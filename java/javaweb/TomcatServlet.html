<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favion.ico"><title>Tomcat&Servlet | coderlch</title><meta name="description" content="coderlch`s blog">
    <link rel="modulepreload" href="/assets/app.8d54902a.js"><link rel="modulepreload" href="/assets/TomcatServlet.html.71fd17f0.js"><link rel="modulepreload" href="/assets/TomcatServlet.html.0c80f2f3.js"><link rel="prefetch" href="/assets/index.html.6c6165d6.js"><link rel="prefetch" href="/assets/Docker实用篇.html.434bc37a.js"><link rel="prefetch" href="/assets/index.html.9c418f32.js"><link rel="prefetch" href="/assets/Linux常用命令.html.904aa533.js"><link rel="prefetch" href="/assets/index.html.2d05100b.js"><link rel="prefetch" href="/assets/JVM.html.bc975287.js"><link rel="prefetch" href="/assets/index.html.f7a3136a.js"><link rel="prefetch" href="/assets/类加载器.html.6fb18db6.js"><link rel="prefetch" href="/assets/ArrayList.html.ca511774.js"><link rel="prefetch" href="/assets/Arrays.html.ec29a3d6.js"><link rel="prefetch" href="/assets/HashMap.html.797cce63.js"><link rel="prefetch" href="/assets/IO流.html.8e441d7f.js"><link rel="prefetch" href="/assets/Java并发基础.html.5da0a58d.js"><link rel="prefetch" href="/assets/Java语言基础.html.b425a002.js"><link rel="prefetch" href="/assets/LinkedList.html.1aff1172.js"><link rel="prefetch" href="/assets/index.html.90458904.js"><link rel="prefetch" href="/assets/反射.html.1ca36eae.js"><link rel="prefetch" href="/assets/字符串.html.9acaad32.js"><link rel="prefetch" href="/assets/数组.html.4c44da44.js"><link rel="prefetch" href="/assets/网络编程.html.7a959eca.js"><link rel="prefetch" href="/assets/index.html.e7d665b2.js"><link rel="prefetch" href="/assets/index.html.739a3b3a.js"><link rel="prefetch" href="/assets/spring.html.ee06dea7.js"><link rel="prefetch" href="/assets/spring高级.html.92822386.js"><link rel="prefetch" href="/assets/Centos7安装Docker.html.0530e0fc.js"><link rel="prefetch" href="/assets/Docker实用篇.html.6333970d.js"><link rel="prefetch" href="/assets/index.html.a48f3e2c.js"><link rel="prefetch" href="/assets/SpringCloud-02.html.76564d0e.js"><link rel="prefetch" href="/assets/nacos集群搭建.html.f01c5010.js"><link rel="prefetch" href="/assets/springcloud-01.html.9b15b070.js"><link rel="prefetch" href="/assets/404.html.93146c89.js"><link rel="prefetch" href="/assets/index.html.26f3cd80.js"><link rel="prefetch" href="/assets/Docker实用篇.html.36b55376.js"><link rel="prefetch" href="/assets/index.html.dad1d536.js"><link rel="prefetch" href="/assets/Linux常用命令.html.0bdaec27.js"><link rel="prefetch" href="/assets/index.html.92ee05d1.js"><link rel="prefetch" href="/assets/JVM.html.62621a8a.js"><link rel="prefetch" href="/assets/index.html.84a33699.js"><link rel="prefetch" href="/assets/类加载器.html.2788241e.js"><link rel="prefetch" href="/assets/ArrayList.html.8a3e70ef.js"><link rel="prefetch" href="/assets/Arrays.html.89885075.js"><link rel="prefetch" href="/assets/HashMap.html.7989a7a3.js"><link rel="prefetch" href="/assets/IO流.html.018d4efe.js"><link rel="prefetch" href="/assets/Java并发基础.html.4c0f142d.js"><link rel="prefetch" href="/assets/Java语言基础.html.19631eff.js"><link rel="prefetch" href="/assets/LinkedList.html.da77504b.js"><link rel="prefetch" href="/assets/index.html.83bb12ce.js"><link rel="prefetch" href="/assets/反射.html.0f771f45.js"><link rel="prefetch" href="/assets/字符串.html.2562c718.js"><link rel="prefetch" href="/assets/数组.html.97c8b5c1.js"><link rel="prefetch" href="/assets/网络编程.html.5dee5517.js"><link rel="prefetch" href="/assets/index.html.b4a46dd8.js"><link rel="prefetch" href="/assets/index.html.4f3d2810.js"><link rel="prefetch" href="/assets/spring.html.462e78b9.js"><link rel="prefetch" href="/assets/spring高级.html.c5b9e56c.js"><link rel="prefetch" href="/assets/Centos7安装Docker.html.e744e177.js"><link rel="prefetch" href="/assets/Docker实用篇.html.c9f4cc1f.js"><link rel="prefetch" href="/assets/index.html.ab2794cd.js"><link rel="prefetch" href="/assets/SpringCloud-02.html.9164a13b.js"><link rel="prefetch" href="/assets/nacos集群搭建.html.217da477.js"><link rel="prefetch" href="/assets/springcloud-01.html.dfceeb6e.js"><link rel="prefetch" href="/assets/404.html.29cbdd37.js"><link rel="prefetch" href="/assets/404.43201e5b.js"><link rel="prefetch" href="/assets/Layout.7ef1677b.js">
    <link rel="stylesheet" href="/assets/style.0611afd4.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/header.jpeg" alt="coderlch"><span class="site-name can-hide">coderlch</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java后端"><span class="title">Java后端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java后端"><span class="title">Java后端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java/javaSE/" class="" aria-label="JavaSE"><!--[--><!--]--> JavaSE <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/javaweb/" class="router-link-active" aria-label="JavaWeb"><!--[--><!--]--> JavaWeb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/spring/" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Spring MVC"><!--[--><!--]--> Spring MVC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Spring Boot"><!--[--><!--]--> Spring Boot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/springcloud/" class="" aria-label="Spring Cloud"><!--[--><!--]--> Spring Cloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/JVM/" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web前端"><span class="title">Web前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web前端"><span class="title">Web前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="操作系统"><span class="title">操作系统</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="操作系统"><span class="title">操作系统</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据结构"><span class="title">数据结构</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据结构"><span class="title">数据结构</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java后端"><span class="title">Java后端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java后端"><span class="title">Java后端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java/javaSE/" class="" aria-label="JavaSE"><!--[--><!--]--> JavaSE <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/javaweb/" class="router-link-active" aria-label="JavaWeb"><!--[--><!--]--> JavaWeb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/spring/" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Spring MVC"><!--[--><!--]--> Spring MVC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Spring Boot"><!--[--><!--]--> Spring Boot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/springcloud/" class="" aria-label="Spring Cloud"><!--[--><!--]--> Spring Cloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/JVM/" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web前端"><span class="title">Web前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web前端"><span class="title">Web前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="操作系统"><span class="title">操作系统</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="操作系统"><span class="title">操作系统</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据结构"><span class="title">数据结构</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据结构"><span class="title">数据结构</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Tomcat&amp;Servlet <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Tomcat&amp;Servlet"><!--[--><!--]--> Tomcat&amp;Servlet <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#web相关概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="Web相关概念"><!--[--><!--]--> Web相关概念 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#软件架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="软件架构"><!--[--><!--]--> 软件架构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#资源分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="资源分类"><!--[--><!--]--> 资源分类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#网络通信三要素" class="router-link-active router-link-exact-active sidebar-item" aria-label="网络通信三要素"><!--[--><!--]--> 网络通信三要素 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#servlet" class="router-link-active router-link-exact-active sidebar-item" aria-label="Servlet"><!--[--><!--]--> Servlet <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#快速开始" class="router-link-active router-link-exact-active sidebar-item" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#servlet执行原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="Servlet执行原理"><!--[--><!--]--> Servlet执行原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#servlet的生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="Servlet的生命周期"><!--[--><!--]--> Servlet的生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#基于注解的servlet开发" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于注解的Servlet开发"><!--[--><!--]--> 基于注解的Servlet开发 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#servlet的体系结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="Servlet的体系结构"><!--[--><!--]--> Servlet的体系结构 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#http" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#基本概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本概念"><!--[--><!--]--> 基本概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#http的数据格式" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTTP的数据格式"><!--[--><!--]--> HTTP的数据格式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#request" class="router-link-active router-link-exact-active sidebar-item" aria-label="Request"><!--[--><!--]--> Request <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#response" class="router-link-active router-link-exact-active sidebar-item" aria-label="Response"><!--[--><!--]--> Response <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#状态管理" class="router-link-active router-link-exact-active sidebar-item" aria-label="状态管理"><!--[--><!--]--> 状态管理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#过滤器" class="router-link-active router-link-exact-active sidebar-item" aria-label="过滤器"><!--[--><!--]--> 过滤器 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#产生的原因" class="router-link-active router-link-exact-active sidebar-item" aria-label="产生的原因"><!--[--><!--]--> 产生的原因 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#概念-2" class="router-link-active router-link-exact-active sidebar-item" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#过滤器的作用" class="router-link-active router-link-exact-active sidebar-item" aria-label="过滤器的作用"><!--[--><!--]--> 过滤器的作用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#编写过滤器" class="router-link-active router-link-exact-active sidebar-item" aria-label="编写过滤器"><!--[--><!--]--> 编写过滤器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#过滤器配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="过滤器配置"><!--[--><!--]--> 过滤器配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/javaweb/TomcatServlet.html#过滤器链与优先级" class="router-link-active router-link-exact-active sidebar-item" aria-label="过滤器链与优先级"><!--[--><!--]--> 过滤器链与优先级 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="web相关概念" tabindex="-1"><a class="header-anchor" href="#web相关概念" aria-hidden="true">#</a> Web相关概念</h2><h3 id="软件架构" tabindex="-1"><a class="header-anchor" href="#软件架构" aria-hidden="true">#</a> 软件架构</h3><ul><li>C/S：客户端/服务器端</li><li>B/S：浏览器/服务器端</li></ul><h3 id="资源分类" tabindex="-1"><a class="header-anchor" href="#资源分类" aria-hidden="true">#</a> 资源分类</h3><ul><li>静态资源：所有用户访问后，得到的结果都一样。静态资源可以直接被浏览器解析（如 html，css，JavaScript）</li><li>动态资源：不同用户访问相同的资源，得到的结果可能不一样。动态资源被访问后需要先转换为静态资源，再返回给浏览器（如 servlet，jsp，asp，php）</li></ul><h3 id="网络通信三要素" tabindex="-1"><a class="header-anchor" href="#网络通信三要素" aria-hidden="true">#</a> 网络通信三要素</h3><ol><li>IP：计算机在网络中的唯一标识</li><li>端口：应用程序在计算机中的唯一标识（0~65536）</li><li>传输协议：规定数据传输的规则（HTTP）</li></ol><h2 id="servlet" tabindex="-1"><a class="header-anchor" href="#servlet" aria-hidden="true">#</a> Servlet</h2><h3 id="概念" tabindex="-1"><a class="header-anchor" href="#概念" aria-hidden="true">#</a> 概念</h3><ol><li>Servlet就是一个接口，定义了java类被浏览器访问到（tomcat识别）的规则</li><li>我们自己自定义一个类，实现Servlet接口，重写方法</li><li>运行在服务器端的小程序（server applet）</li></ol><h3 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始" aria-hidden="true">#</a> 快速开始</h3><ol><li><p>创建javaEE项目</p></li><li><p>自定义一个类，实现Servlet接口</p></li><li><p>实现Servlet接口中的抽象方法</p></li><li><p>在Web.xml中配置Servlet</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello-servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cn.coderlch.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello-servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello-servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="servlet执行原理" tabindex="-1"><a class="header-anchor" href="#servlet执行原理" aria-hidden="true">#</a> Servlet执行原理</h3><ol><li>服务器接收到浏览器的请求后，会解析请求url路径，获取访问Servlet的资源路径</li><li>查找web.xml配置文件，是否有匹配 <code>&lt;url-pattern&gt;</code> 标签体内容</li><li>如果有，则查找对应的 <code>&lt;servlet-class&gt;</code> 全限定名</li><li>tomcat会将该字节码文件加载进内存，然后创建对象，最后调用方法</li></ol><h3 id="servlet的生命周期" tabindex="-1"><a class="header-anchor" href="#servlet的生命周期" aria-hidden="true">#</a> Servlet的生命周期</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
    *  被创建
    *  执行init()方法，只执行1次
    *  默认情况下，第一次访问时被创建
    */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    
    <span class="token doc-comment comment">/**
    *  提供服务
    *  每次访问Servlet时，service方法都会被调用1次
    */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    
    <span class="token doc-comment comment">/**
    *  被销毁，执行destroy方法，只执行1次
    *  Servlet被销毁之前执行，服务器正常关闭时执行该方法，非正常关闭不执行该方法
    *  一般用于释放资源
    */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="基于注解的servlet开发" tabindex="-1"><a class="header-anchor" href="#基于注解的servlet开发" aria-hidden="true">#</a> 基于注解的Servlet开发</h3><ol><li>Servlet 3.0版本以上支持注解开发</li><li>在Servlet的实现类上使用 @WebServlet 注解，配置 <code>@WebServlet(&quot;资源路径&quot;)</code> ，也可以配置多个路径，如：<code>@WebServlet({&quot;url1&quot;, &quot;url2&quot;, &quot;url3&quot;})</code></li></ol><h3 id="servlet的体系结构" tabindex="-1"><a class="header-anchor" href="#servlet的体系结构" aria-hidden="true">#</a> Servlet的体系结构</h3><p><img src="https://lch-figurebed.oss-cn-shenzhen.aliyuncs.com/202301281000959.png" alt="image-20230128100006743"></p><p>通常我们自定义类需要继承HttpServlet，然后重写doGet方法和doPost方法</p><h2 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h2><h3 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念" aria-hidden="true">#</a> 基本概念</h3><p>超文本传输协议：定义客户端和服务器端通信时的数据格式</p><p>特点：</p><ol><li>基于TCP可靠传输协议</li><li>默认端口号为80</li><li>基于 请求/响应 模型：一次请求对应一次响应</li><li>无状态：每次请求之间都是独立的，不能交互数据</li></ol><p>历史版本：</p><ol><li>HTTP1.0 : 每一次请求响应都会新建立一个连接</li><li>HTTP1.1 : 复用连接</li></ol><h3 id="http的数据格式" tabindex="-1"><a class="header-anchor" href="#http的数据格式" aria-hidden="true">#</a> HTTP的数据格式</h3><ol><li>请求消息数据格式 <ul><li>请求行</li><li>请求头</li><li>请求空行</li><li>请求体</li></ul></li><li>响应消息数据格式 <ul><li>响应行</li><li>响应头</li><li>响应空行</li><li>响应体</li></ul></li></ol><h3 id="request" tabindex="-1"><a class="header-anchor" href="#request" aria-hidden="true">#</a> Request</h3><p>当服务器端（tomcat）接收到请求消息后，会创建一个request对象，然后把请求消息中的数据封装到这个request对象，最后把它传递给service方法，我们在重写service方法时可以使用request对象来获取请求消息的数据</p><h6 id="获取请求行数据" tabindex="-1"><a class="header-anchor" href="#获取请求行数据" aria-hidden="true">#</a> 获取请求行数据</h6><p>ps:GET /servlet/demo?id=123&amp;name=zhangsan HTTP/1.1</p><ul><li>String getMethod() ---- 获取请求方式：GET</li><li>String getContextPath() ---- 获取虚拟目录：/servlet</li><li>String getServletPath() ---- 获取Servlet路径：/demo</li><li>String getQueryString() ---- 获取get方式的请求参数：id=123&amp;name=zhangsan</li><li>String getRequestURI() ---- 获取请求URI：/servlet/demo</li><li>StringBuffer getRequestURL() ---- 获取请求URL：<a href="http://localhost/servlet/demo" target="_blank" rel="noopener noreferrer">http://localhost/servlet/demo<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>String getProtocol() ---- 获取协议及版本：HTTP/1.1</li><li>String getRemoteAddr() ---- 获取客户机的IP地址</li></ul><h6 id="获取请求头数据" tabindex="-1"><a class="header-anchor" href="#获取请求头数据" aria-hidden="true">#</a> 获取请求头数据</h6><ul><li>String getHeader(String name) ----通过请求头的名称获取请求请求头的值</li><li>Enumeration<code>&lt;String&gt;</code> getHeaderNames() ----获取所有请求头的名称</li></ul><h6 id="获取请全体数据" tabindex="-1"><a class="header-anchor" href="#获取请全体数据" aria-hidden="true">#</a> 获取请全体数据</h6><ul><li>请全体：只有POST请求方式，才有请全体，在请全体中封装了POST请求的请求参数</li><li>步骤： <ol><li>获取流对象 <ul><li>BufferedReader getReader() ----获取字符输入流，只能操作字符数据</li><li>ServletInputStream getInputStream() ----获取字节输入流，可以操作所有的数据类型</li></ul></li><li>从流对象中拿数据</li></ol></li></ul><h6 id="获取请求参数通用方式" tabindex="-1"><a class="header-anchor" href="#获取请求参数通用方式" aria-hidden="true">#</a> 获取请求参数通用方式</h6><ul><li>String getParameter(String name) ----根据参数名称获取参数值</li><li>String[] getParameterValues(String name) ----根据参数名称获取参数值的数组</li><li>Enumeration<code>&lt;String&gt;</code> getParameterNames() ----获取所有请求的参数名称</li><li>Map&lt;String, String[]&gt; getParameterMap() ----获取所有参数的map集合</li><li>注意：为解决中文乱码问题，应当在方法开始的位置添加 <code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code> ,原因是tomcat不同版本其实现的默认编码格式不同</li></ul><h6 id="请求转发" tabindex="-1"><a class="header-anchor" href="#请求转发" aria-hidden="true">#</a> 请求转发</h6><ul><li>它是一种服务器内部资源跳转的方式</li><li>使用步骤： <ol><li>通过request对象获取请求转发器对象：RequestDispatcher getRequestDispatcher(String path)</li><li>使用requestDispatcher对象来进行转发：forward(ServletRequest request, ServletResponse response)</li></ol></li><li>特点： <ol><li>浏览器地址栏路径不发生变化</li><li>只能转发到当前服务器内部资源中</li><li>转发是一次请求</li></ol></li></ul><h6 id="共享数据" tabindex="-1"><a class="header-anchor" href="#共享数据" aria-hidden="true">#</a> 共享数据</h6><ul><li>域对象：一个作用范围的对象，可以在范围内共享数据</li><li>request域：代表一次请求的范围，一般用于请求转发多个资源中的共享数据</li><li>方法： <ol><li>void setAttribute(String name, Object obj) ----存储数据</li><li>Object getAttribute(String name) ----通过键获取值</li><li>void removeAttribute(String name) ----通过键移除键值对</li></ol></li></ul><h6 id="servletcontext对象" tabindex="-1"><a class="header-anchor" href="#servletcontext对象" aria-hidden="true">#</a> ServletContext对象</h6><p>概述：</p><ul><li>全局对象，拥有作用域，对应一个tomcat中的Web应用</li><li>当Web服务器启动时，会为每一个web应用程序创建一块共享的存储区域（ServletContext）</li><li>ServletContext在web服务器启动时创建，服务器关闭时销毁</li></ul><p>获取ServletContext对象：</p><ul><li>GenericServlet提供了getServletContext()方法</li><li>HttpServletRequest提供了getServletContext()方法</li><li>HttpSession提供了getServletContext()方法</li></ul><p>ServletContext应用：</p><ul><li>获取项目真实路径：<code>String realPath = servletContext.getRealPath(&quot;/&quot;)</code></li><li>获取项目上下文路径(应用程序名称)：servletContext.getContextPath() == request.getContextPath()</li><li>全局容器： <ol><li>存储数据：servletContext.setAttribute(String name, Object obj)</li><li>获取数据：servletContext.getAttribute(String name)</li><li>移除数据：servletContext.removeAttribute(String name)</li></ol></li></ul><h3 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h3><h6 id="常用方法" tabindex="-1"><a class="header-anchor" href="#常用方法" aria-hidden="true">#</a> 常用方法</h6><table><thead><tr><th style="text-align:left;">方法名称</th><th>作用</th></tr></thead><tbody><tr><td style="text-align:left;">void setHeader(String name, String value)</td><td>设置响应信息头</td></tr><tr><td style="text-align:left;">void setContentType(String type)</td><td>设置响应文件类型，响应式的编码格式</td></tr><tr><td style="text-align:left;">void setCharacterEncoding(String charset)</td><td>设置服务端响应内容编码格式</td></tr><tr><td style="text-align:left;">PrintWriter getWriter()</td><td>获取字符输出流</td></tr></tbody></table><h6 id="重定向" tabindex="-1"><a class="header-anchor" href="#重定向" aria-hidden="true">#</a> 重定向</h6><table><thead><tr><th>方法名称</th><th>作用</th></tr></thead><tbody><tr><td>void sendRedirect(String location)</td><td>重定向</td></tr></tbody></table><ul><li>sendRedirect跳转时，地址栏改变，代表客户端重新发送请求，属于2次请求</li><li>response没有作用域，2次请求中的数据无法共享（可以通过URI拼接进行数据传递）</li><li>重定向是客户端行为</li><li>重定向是浏览器做了至少2次请求访问</li><li>重定向2次跳转之间传输的信息会丢失（request范围）</li><li>重定向可以指向任何资源</li></ul><h3 id="状态管理" tabindex="-1"><a class="header-anchor" href="#状态管理" aria-hidden="true">#</a> 状态管理</h3><h6 id="现有问题" tabindex="-1"><a class="header-anchor" href="#现有问题" aria-hidden="true">#</a> 现有问题</h6><blockquote><ul><li>HTTP协议是无状态的，不能保存每次提交的信息</li><li>当客户端发来一个请求，服务器端无法知道它与上一次的请求是否有联系</li><li>对于那些需要多次提交数据的web操作，就存在问题（如登录问题）</li></ul></blockquote><h6 id="概念-1" tabindex="-1"><a class="header-anchor" href="#概念-1" aria-hidden="true">#</a> 概念</h6><blockquote><p>将浏览器与web服务器之间多次交互当作一个整体来处理，并且将多次交互所涉及到的数据（即状态）保存下来</p></blockquote><h6 id="状态的分类" tabindex="-1"><a class="header-anchor" href="#状态的分类" aria-hidden="true">#</a> 状态的分类</h6><blockquote><ul><li>客户端管理技术：将状态保存在客户端，代表性的是Cookie技术</li><li>服务器端管理技术：将状态保存在服务端，代表性的是Session技术和application</li></ul></blockquote><h6 id="cookie技术" tabindex="-1"><a class="header-anchor" href="#cookie技术" aria-hidden="true">#</a> Cookie技术</h6><blockquote><ul><li>Cookie是在浏览器访问web服务器某个资源时，由web服务器在HTTP响应消息头中附带传送给浏览器的一小段数据</li><li>一旦web浏览器保存了某个Cookie，那么以后再访问该资源时，都应在请求头中将这个Cookie回传给web服务器</li><li>一个Cookie主要由名称（name）和值（value）组成</li></ul></blockquote><p><img src="https://lch-figurebed.oss-cn-shenzhen.aliyuncs.com/202301291626711.png" alt="image-20230129162612406"></p><h6 id="创建cookie" tabindex="-1"><a class="header-anchor" href="#创建cookie" aria-hidden="true">#</a> 创建Cookie</h6><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>          # 创建<span class="token class-name">Cookie</span>
    
cookie<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token string">&quot;资源目录&quot;</span><span class="token punctuation">)</span>          # 设置<span class="token class-name">Cookie</span>的可访问资源路径
    
cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>          # <span class="token operator">&gt;</span><span class="token number">0</span>为有效期，单位是秒<span class="token punctuation">;</span> <span class="token operator">=</span><span class="token number">0</span>表示浏览器关闭就失效<span class="token punctuation">;</span> <span class="token operator">&lt;</span><span class="token number">0</span>表示内存存储，默认值是<span class="token operator">-</span><span class="token number">1</span>
    
response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>          # 添加到response对象中，响应时发送给客户端

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="获取cookie" tabindex="-1"><a class="header-anchor" href="#获取cookie" aria-hidden="true">#</a> 获取Cookie</h6><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>cookies <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cookie名称&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            code <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="修改cookie" tabindex="-1"><a class="header-anchor" href="#修改cookie" aria-hidden="true">#</a> 修改Cookie</h6><blockquote><p>只需要保证Cookie的名和路径一致，即可覆盖原来的Cookie，否则会新建一个Cookie</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
cookie<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token string">&quot;资源目录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="cookie编码与解码" tabindex="-1"><a class="header-anchor" href="#cookie编码与解码" aria-hidden="true">#</a> Cookie编码与解码</h6><blockquote><p>Cookie默认不支持中文，只能包含ASCII字符，故需要对中文进行编码和解码</p></blockquote><table><thead><tr><th>包</th><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>java.net.URLEncoder</td><td>public static String encode(String s, String enc)</td><td>编码</td></tr><tr><td>java.net.URLDecoder</td><td>public static String decode(String s, String enc)</td><td>解码</td></tr></tbody></table><h6 id="cookie的优点与缺点" tabindex="-1"><a class="header-anchor" href="#cookie的优点与缺点" aria-hidden="true">#</a> Cookie的优点与缺点</h6><table><thead><tr><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>可配置到期规则</td><td>数据存储大小受到限制，大多数浏览器有4k，8k的限制</td></tr><tr><td>简单性：Cookie是一种基于文本的轻量结构，包含简单的键值对</td><td>客户端浏览器配置为Cookie禁用</td></tr><tr><td>数据持久性：Cookie默认在过期之前可以一直存在客户端浏览器上</td><td>潜在的安全风险：Cookie可能被篡改</td></tr></tbody></table><h6 id="session技术" tabindex="-1"><a class="header-anchor" href="#session技术" aria-hidden="true">#</a> Session技术</h6><blockquote><ul><li><p>Session用于记录用户的状态</p></li><li><p>Session指的是在一段时间内，单个客户端与服务器的一连串相关的交互过程</p></li><li><p>在一个Session中，客户端可能会多次请求访问同一个资源或者各种不同的服务器资源</p></li></ul></blockquote><h6 id="session原理" tabindex="-1"><a class="header-anchor" href="#session原理" aria-hidden="true">#</a> Session原理</h6><blockquote><ul><li>服务器会为每一次会话分配一个Session对象</li><li>同一个浏览器发起的多次请求，同属于一次会话(Session)</li><li>首次使用Session时，服务器会自动创建Session，并创建Cookie存储SessionID发送回客户端</li></ul></blockquote><h6 id="session作用域" tabindex="-1"><a class="header-anchor" href="#session作用域" aria-hidden="true">#</a> Session作用域</h6><blockquote><ul><li><p>拥有存储数据的空间，作用范围是一次会话</p></li><li><p>一次会话是使用同一浏览器发送的多次请求，一旦浏览器关闭，会话结束</p></li><li><p>可以将数据存入Session中，在一次会话中的任意位置进行获取</p></li><li><p>可以传递任意数据类型（基本数据类型，对象，数组，集合）</p></li></ul></blockquote><h6 id="获取session" tabindex="-1"><a class="header-anchor" href="#获取session" aria-hidden="true">#</a> 获取Session</h6><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="session保存数据" tabindex="-1"><a class="header-anchor" href="#session保存数据" aria-hidden="true">#</a> Session保存数据</h6><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>	    # 以键值对形式存储在<span class="token class-name">Session</span>作用域中
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="session获取数据" tabindex="-1"><a class="header-anchor" href="#session获取数据" aria-hidden="true">#</a> Session获取数据</h6><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     # 通过<span class="token class-name">String</span>类型的key来访问<span class="token class-name">Object</span>类型的value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="session移除数据" tabindex="-1"><a class="header-anchor" href="#session移除数据" aria-hidden="true">#</a> Session移除数据</h6><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     # 通过键移除session作用域中的值value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="session的生命周期" tabindex="-1"><a class="header-anchor" href="#session的生命周期" aria-hidden="true">#</a> Session的生命周期</h6><blockquote><ul><li>开始：第一次使用到Session的请求产生，则创建Session</li><li>结束： <ul><li>浏览器关闭，则失效</li><li>Session超时，则失效（ session.setMaxInactiveInterval(seconds) ，设置最大有效时间 ）</li><li>手工销毁，则失效（ session.invalidate()，如登录退出，注销 ）</li></ul></li></ul></blockquote><h2 id="过滤器" tabindex="-1"><a class="header-anchor" href="#过滤器" aria-hidden="true">#</a> 过滤器</h2><h3 id="产生的原因" tabindex="-1"><a class="header-anchor" href="#产生的原因" aria-hidden="true">#</a> 产生的原因</h3><blockquote><p>每个Servlet中存在冗余的代码</p></blockquote><h3 id="概念-2" tabindex="-1"><a class="header-anchor" href="#概念-2" aria-hidden="true">#</a> 概念</h3><blockquote><p>过滤器（Filter）是处于客户端与服务器目标资源之间的一道过滤技术</p></blockquote><p><img src="https://lch-figurebed.oss-cn-shenzhen.aliyuncs.com/202301290950849.png" alt="image-20230129095047747"></p><h3 id="过滤器的作用" tabindex="-1"><a class="header-anchor" href="#过滤器的作用" aria-hidden="true">#</a> 过滤器的作用</h3><blockquote><ol><li>执行地位在Servlet之前，客户端发送请求时，会先经过Filter，再到达目标Servlet中，响应时，会根据执行流程再次反向执行Filter</li><li>可以解决多个Servlet共性代码的冗余问题（如：乱码处理，验证登录）</li></ol></blockquote><h3 id="编写过滤器" tabindex="-1"><a class="header-anchor" href="#编写过滤器" aria-hidden="true">#</a> 编写过滤器</h3><blockquote><p>Servlet API 提供了Filter接口，开发者只需编写一个java类实现这个接口即可，编写的java类称为Filter</p><p>实现步骤：</p><ol><li>编写java类实现Filter接口</li><li>在doFilter()方法上编写拦截逻辑</li><li>设置拦截路径（xml配置 / @WebFilter(value = &quot;/拦截的目标资源&quot;)）</li></ol></blockquote><h3 id="过滤器配置" tabindex="-1"><a class="header-anchor" href="#过滤器配置" aria-hidden="true">#</a> 过滤器配置</h3><h6 id="注解配置" tabindex="-1"><a class="header-anchor" href="#注解配置" aria-hidden="true">#</a> 注解配置</h6><blockquote><p>在自定义的Filter类上使用注解 @WebFilter(value = &quot;/拦截的目标资源&quot;)</p></blockquote><h6 id="xml配置" tabindex="-1"><a class="header-anchor" href="#xml配置" aria-hidden="true">#</a> xml配置</h6><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="过滤器链与优先级" tabindex="-1"><a class="header-anchor" href="#过滤器链与优先级" aria-hidden="true">#</a> 过滤器链与优先级</h3><h6 id="过滤器链" tabindex="-1"><a class="header-anchor" href="#过滤器链" aria-hidden="true">#</a> 过滤器链</h6><blockquote><ul><li>客户端对服务器请求后，服务器调用Servlet之前会执行一组Filter，这一组Filter称为过滤器链</li><li>每个过滤器实现特定的功能，当第一个Filter的doFilter()被调用时，web服务器会创建一个代表Filter链的FilterChain对象传递给该方法（类似request和response）。在doFilter()中如果调用了FilterChain对象的doFilter(),则web服务器会检查FilterChain对象中是否还有Filter，如果有，则调用第二个，如果没有，则调用目标资源</li></ul></blockquote><p><img src="https://lch-figurebed.oss-cn-shenzhen.aliyuncs.com/202301291046094.png" alt="image-20230129104654010"></p><h6 id="过滤器的优先级" tabindex="-1"><a class="header-anchor" href="#过滤器的优先级" aria-hidden="true">#</a> 过滤器的优先级</h6><blockquote><p>在一个web应用程序中， 可以开发编写多个Filter，这些Filter组合起来称之为Filter链</p><p>优先级：</p><ul><li>注解配置时，按照类的全限定名的字符串顺序来决定作用顺序</li><li>web.xml配置时，按照 <code>&lt;filter-mapping&gt;</code> 注册顺序，从上往下</li><li>web.xml配置高于注解配置</li></ul></blockquote></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 2608073916@qq.com">coderlch</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.8d54902a.js" defer></script>
  </body>
</html>
